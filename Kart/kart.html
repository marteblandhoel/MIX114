<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <link rel="stylesheet" href="kart.css" type="text/css" />
    <link rel="stylesheet" href="../globals//global.css" />
    <script
      src="https://kit.fontawesome.com/c941d0ea4c.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="innhold">
      <h2 class="overskrift">Kart</h2>
      <div class="inputContainer">
        <input class="email-address" placeholder="Din posisjon" />
      </div>
      <div id="map" style="height: 100%px">
        <!-- Ensure the map div has a defined height -->
      </div>
    </div>

    <nav class="navbar">
      <div class="navbar-child"></div>
      <div class="icon-parent">
        <i
          class="iconFooter fa-solid fa-location-dot"
          aria-label="location pin"
        ></i>
        <i
          class="iconFooter fa-solid fa-map-location-dot"
          aria-label="maps icon"
        ></i>
        <i class="iconFooter fa fa-car" aria-label="car icon"></i>
        <i
          class="iconFooter fa fa-exclamation-triangle"
          aria-label="varsel icon"
        ></i>
        <i class="iconFooter fa fa-user-circle-o" aria-label="profile icon"></i>
      </div>
    </nav>
    <script>
      let map;
      let marker1;
      let marker2;
      let marker3;

      async function initMap() {
        // Import Advanced Marker Library
        const { AdvancedMarkerElement } = await google.maps.importLibrary(
          "marker"
        );

        // Initialize map
        map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 60.3856, lng: 5.3329 },
          zoom: 16,
          mapId: "DEMO_MAP_ID", // Added mapId required for advanced markers
        });

        // Custom SVG image for markers
        const customImage1 = document.createElement("img");
        customImage1.src = "../globals/danger.svg"; // Path to your SVG file
        customImage1.style.width = "40px"; // Set width of the SVG
        customImage1.style.height = "40px"; // Set height of the SVG
        customImage1.style.backgroundColor = "gray";

        const customImage2 = document.createElement("img");
        customImage2.src = "../globals/danger.svg"; // Path to your SVG file
        customImage2.style.width = "40px"; // Set width of the SVG
        customImage2.style.height = "40px"; // Set height of the SVG
        customImage2.style.backgroundColor = "red";

        const customImage3 = document.createElement("img");
        customImage3.src = "../globals/danger.svg"; // Path to your SVG file
        customImage3.style.width = "40px"; // Set width of the SVG
        customImage3.style.height = "40px"; // Set height of the SVG
        customImage3.style.backgroundColor = "blue";

        // Initialize markers with custom SVG images
        marker1 = new google.maps.marker.AdvancedMarkerElement({
          position: { lat: 60.38657, lng: 5.332119 },
          map: map,
          title: "Your Position",
          content: customImage1,
        });

        marker2 = new google.maps.marker.AdvancedMarkerElement({
          position: { lat: 60.388315, lng: 5.332535 },
          map: map,
          title: "Interest Point 1",
          content: customImage2,
        });

        marker3 = new google.maps.marker.AdvancedMarkerElement({
          position: { lat: 60.386632, lng: 5.326443 },
          map: map,
          title: "Glatt",
          content: customImage3,
        });

        // Draw a line between the markers
        const linePath = new google.maps.Polyline({
          path: [
            { lat: 60.387303, lng: 5.333816 },
            { lat: 60.389255, lng: 5.331156 },
          ],
          geodesic: true,
          strokeColor: "#FF0000",
          strokeOpacity: 1.0,
          strokeWeight: 8,
        });
        const linePath2 = new google.maps.Polyline({
          path: [
            { lat: 60.386426, lng: 5.326123 },
            { lat: 60.387173, lng: 5.327236 },
          ],
          geodesic: true,
          strokeColor: "blue",
          strokeOpacity: 1.0,
          strokeWeight: 8,
        });

        linePath.setMap(map);
        linePath2.setMap(map);
      }
    </script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAO68vhCtj-hvYqBbzkKIUv967TCNAH-CE&callback=initMap&libraries=marker"
      async
      defer
    ></script>
  </body>
</html>
